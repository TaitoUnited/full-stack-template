# Design System

We use [Figmage](https://github.com/Temzasse/figmage#readme) to generate our design system from Figma. (Developed by [Temzasse](https://github.com/Temzasse) 🎉⚡️)

## How to connect your project to Figma

1. Get the **Figma design** file for your app from the designer if you don't have it already. It should be based on the [Design System Template](https://www.figma.com/design/ORN2KQBsniJ0508iC9PXZK/Taito-Design-Template).

2. Get your Figma API token as explained [here](https://www.figma.com/developers/api#access-tokens).

3. Get the **file id** of the Figma file. You can find it in the URL of the Figma file. For example, if the URL is `https://www.figma.com/design/ORN2KQBsniJ0508iC9PXZK/Taito-Design-Template`, then the **file id** is `ORN2KQBsniJ0508iC9PXZK`.

4. Create a `.env` file in the `styled-system` folder and paste your access token and the file id there. You can use the `.env.example` file as a template.

   ```env
   FIGMA_ACCESS_TOKEN="xxxxx-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx"
   FIGMA_FILE_ID="xxxxxxxxxxxxxxxxxxxxxx"
   ```

   > Note: Feel free to delete the `.env.example` file after you have created the `.env` file.

## How to generate the design system

You can generate the design system by running the script `design-system:sync` in the root of your project.

This command runs the following scripts, that you can run individually if you want to:

- `design-system:tokenize`: This script will tokenize the Figma file and generate a `tokens.json` file in the `src/styled-system/tokens` folder of your project. This file contains all the tokens of the Figma file.

- `design-system:codegen`: This script will generate the design system code based on the `tokens.json` file. It will generate files in the `src/design-system/tokens` folder of your project that you can then use in your app.

- `design-system:format`: This script will format the `src/styled-system/tokens/*.ts` files using [Prettier](https://prettier.io/).

## How to customize what is generated

It is possible to customize what is generated by the design system. We can for example exclude some unused tokens. The customization is done in the `figmage` section in the `package.json` file of your project.

For more details on how to customize it, check the [Figmage README](https://github.com/Temzasse/figmage#readme).

### How to add a new token

> Note: Tokens should be created and updated by designers. What is safe to create without designer approval are the icons.

1. Add the token in Figma. Make sure it is a component and that it is named correctly. The name of the token will be used as the name of the variable in the code.
2. Run the `design-system:sync` command.
3. Use the token in your component.

## How to use the design system

To ensure consistency across the application, we have developed a [UI Kit](../src/components/uikit/) containing reusable components. These components, such as text elements, buttons, and other UI elements, are designed to leverage the design system directly.

Always use the UI Kit components in the app to maintain consistency. This approach ensures that any changes made to the design system in Figma are automatically reflected in the app after running the sync command.

For more details on how the app’s styling is configured, refer to [Styling Documentation](./styling.md).
